!(function (b) {
  "use strict";
  b.fn.insightSwiper = function () {
    this.each(function () {
      var e = b(this),
        t = e.children(".swiper-inner").first(),
        i = e.data();
      if ("0" != i.queueInit) {
        var n,
          a,
          o,
          s,
          r,
          l = t.children(".swiper-container").first(),
          d = i.lgItems || 1,
          c = i.mdItems || d,
          p = i.smItems || c,
          h = i.xsItems || p,
          u = i.lgGutter || 0,
          f = i.mdGutter || u,
          m = i.smGutter || f,
          g = i.xsGutter || m,
          v = i.speed || 1e3;
        i.slideWrap &&
          t
            .children(".swiper-container")
            .children(".swiper-wrapper")
            .children("div")
            .wrap(
              "<div class='swiper-slide'><div class='swiper-slide-inner'></div></div>"
            ),
          "auto" == d
            ? (n = {
                slidesPerView: "auto",
                spaceBetween: u,
                breakpoints: {
                  767: { spaceBetween: g },
                  990: { spaceBetween: m },
                  1199: { spaceBetween: f },
                },
              })
            : ((n = {
                slidesPerView: d,
                spaceBetween: u,
                breakpoints: {
                  767: { slidesPerView: h, spaceBetween: g },
                  990: { slidesPerView: p, spaceBetween: m },
                  1199: { slidesPerView: c, spaceBetween: f },
                },
              }),
              "inherit" == i.slidesPerGroup &&
                ((n.slidesPerGroup = d),
                (n.breakpoints[767].slidesPerGroup = h),
                (n.breakpoints[990].slidesPerGroup = p),
                (n.breakpoints[1199].slidesPerGroup = c))),
          (n.el = l),
          (n.watchOverflow = !0),
          i.slideColumns && (n.slidesPerColumn = i.slideColumns),
          i.initialSlide && (n.initialSlide = i.initialSlide),
          i.autoHeight && (n.autoHeight = !0),
          v && (n.speed = v),
          i.effect && (n.effect = i.effect),
          i.loop && (n.loop = !0),
          i.centered && (n.centeredSlides = !0),
          i.autoplay &&
            (n.autoplay = { delay: i.autoplay, disableOnInteraction: !1 }),
          i.freemode && (n.freeMode = !0),
          i.wrapTools &&
            ((a = b('<div class="swiper-tools"></div>')), e.append(a)),
          i.nav &&
            (i.customNav && "" !== i.customNav
              ? (($customBtn = b("#" + i.customNav)),
                (o = $customBtn.find(".slider-prev-btn")),
                (s = $customBtn.find(".slider-next-btn")))
              : ((o = b(
                  '<div class="swiper-nav-button swiper-button-prev"><i class="nav-button-icon"></i></div>'
                )),
                (s = b(
                  '<div class="swiper-nav-button swiper-button-next"><i class="nav-button-icon"></i></div>'
                )),
                (v = b('<div class="swiper-nav-buttons"></div>'))
                  .append(o)
                  .append(s),
                (a || t).append(v)),
            (n.navigation = { nextEl: s, prevEl: o })),
          i.pagination &&
            ((r = b('<div class="swiper-pagination"></div>')),
            (a || e).append(r),
            (n.pagination = { el: r, clickable: !0 })),
          i.scrollbar &&
            ((r = b('<div class="swiper-scrollbar"></div>')),
            l.prepend(r),
            (n.scrollbar = { el: r, draggable: !0 }),
            (n.loop = !1)),
          i.mousewheel && (n.mousewheel = { enabled: !0 }),
          i.vertical && (n.direction = "vertical");
        var w,
          y = new Swiper(n);
        return (
          i.reinitOnResize &&
            b(window).on("resize", function () {
              clearTimeout(w),
                (w = setTimeout(function () {
                  y.destroy(!0, !0), (y = new Swiper(l, n));
                }, 300));
            }),
          i.autoplay &&
            l.hoverIntent(
              function () {
                y.autoplay.stop();
              },
              function () {
                y.autoplay.start();
              }
            ),
          b(document).trigger("insightSwiperInit", [y, e, n]),
          this
        );
      }
    });
  };
})(jQuery),
  (function (g) {
    "use strict";
    var c,
      e,
      t,
      r = g(window),
      l = g("html"),
      d = g("body"),
      n = g("#page"),
      p = g("#page-header"),
      h = g("#page-header-inner"),
      u = g("#page-content"),
      f = $insight.header_sticky_enable,
      m = parseInt($insight.header_sticky_height),
      v = 200,
      a = window.innerWidth,
      w = !1;
    function y(e) {
      e.lightGallery({ selector: "a", fullScreen: !1, zoom: !1 });
    }
    function b(e, t, i, n) {
      clearTimeout(n),
        (i = window.setInterval(function () {
          void 0 !== e && e.length
            ? (g(e.shift()).addClass("animate"), b())
            : window.clearInterval(i);
        }, t));
    }
    function C(e, t) {
      0 == t &&
        (e.siblings("li").removeClass("current-menu-item"),
        e.addClass("current-menu-item"));
    }
    function k() {
      var e,
        t = g("#page-footer-wrapper");
      t.hasClass("parallax") &&
        !d.hasClass("page-template-one-page-scroll") &&
        0 < t.length &&
        ((e = n.children(".content-wrapper")),
        1024 <= a
          ? ((t = t.height()),
            d.addClass("page-footer-parallax"),
            e.css({ marginBottom: t }))
          : (d.removeClass("page-footer-parallax"),
            e.css({ marginBottom: 0 })));
    }
    function _() {
      var e,
        t = g("#page-footer-wrapper");
      t.hasClass("fixed") &&
        !d.hasClass("page-template-one-page-scroll") &&
        0 < t.length &&
        ((e = n.children(".content-wrapper")),
        (t = t.height()),
        d.addClass("page-footer-fixed"),
        e.css({ marginBottom: t }));
    }
    function x() {
      d.removeClass("page-mobile-menu-opened"),
        g(document).trigger("mobileMenuClose");
    }
    function S() {
      var e = $insight.mobile_menu_breakpoint;
      a <= e
        ? d.removeClass("desktop-menu").addClass("mobile-menu")
        : d.addClass("desktop-menu").removeClass("mobile-menu");
    }
    function i() {
      var e,
        t,
        i,
        n = p.children(".page-header-place-holder");
      1 == $insight.header_sticky_enable &&
        0 < p.length &&
        "1" == h.data("sticky") &&
        ("left" != h.data("header-position")
          ? ((i =
              (e = (e = h.offset().top) < 0 ? 0 : e) +
              (t = h.outerHeight()) +
              100),
            p.hasClass("header-layout-fixed") ||
              ((t = h.outerHeight()), n.height(t), h.addClass("held")),
            p.headroom({
              offset: i,
              onTop: function () {
                p.hasClass("header-layout-fixed") ||
                  setTimeout(function () {
                    var e = h.outerHeight();
                    n.height(e);
                  }, 300);
              },
            }))
          : a <= $insight.mobile_menu_breakpoint
          ? p.data("headroom") ||
            ((i =
              (e = (e = h.offset().top) < 0 ? 0 : e) +
              (t = h.outerHeight()) +
              100),
            p.headroom({ offset: i }))
          : p.data("headroom") &&
            (p.data("headroom").destroy(), p.removeData("headroom")));
    }
    function j() {
      d.removeClass("page-search-popup-opened"), l.css({ overflow: "" });
    }
    function T() {
      d.removeClass("page-off-sidebar-opened");
    }
    function I() {
      var i, e, t, n;
      "left" == h.data("header-position") &&
        ((t = window.innerWidth),
        (i = parseInt(d.data("site-width"))),
        (e = g("#page-footer-wrapper")),
        t <= $insight.mobile_menu_breakpoint
          ? (l.css({ marginLeft: 0 }),
            (e.hasClass("parallax") ||
              e.hasClass("fixed") ||
              e.hasClass("overlay")) &&
              e.css({ left: 0 }))
          : ((t = h.outerWidth()),
            l.css({ marginLeft: t + "px" }),
            (e.hasClass("parallax") ||
              e.hasClass("fixed") ||
              e.hasClass("overlay")) &&
              e.css({ left: t + "px" }),
            (t = g("#page-main-content").find(".vc_row, .vc_section")),
            (e = e
              .find(".page-footer-inner")
              .first()
              .find(".vc_row, .vc_section")),
            (t = t.add(e)),
            (n = g("#page").width()),
            t.each(function () {
              var e, t;
              g(this).attr("data-vc-full-width") &&
                ((e = 0),
                n > $insight.mobile_menu_breakpoint &&
                  (e = -(n - i) / 2 + "px"),
                (t = n + "px"),
                g(this).css({ left: e, width: t }),
                (void 0 !== (t = g(this).attr("data-vc-stretch-content")) &&
                  !1 !== t) ||
                  ((t = 0),
                  n > $insight.mobile_menu_breakpoint && (t = (n - i) / 2),
                  g(this).css({ paddingLeft: t, paddingRight: t })));
            })));
    }
    function $() {
      var e, t, i;
      d.hasClass("boxed") &&
        (a < 1200 ||
          ((e = n.outerWidth()),
          (t = d.data("content-width")),
          (i = (e - t) / 2),
          Math.min(e, t),
          n.find("[data-vc-full-width=true]").each(function () {
            g(this).css({ left: -i, width: e + "px" }),
              1 != g(this).data("vc-stretch-content") &&
                g(this).css({ paddingLeft: i, paddingRight: i });
          })));
    }
    function O() {
      var e,
        t = window.innerHeight,
        i = 0,
        n = g("#wpadminbar"),
        a = g(".vc_row-o-full-height");
      n.length && (i += n.outerHeight()),
        (h = p.children(".page-header-inner")),
        p.hasClass("header-layout-fixed") ||
          (!d.hasClass("handheld") && void 0 !== h.data("header-position")) ||
          (i += h.outerHeight()),
        (e = t - i),
        a.each(function () {
          g(this).hasClass("calculated-height")
            ? a.css("min-height", e + "px")
            : a.css("min-height", t + "px");
        }),
        g(document).trigger("vc-full-height-row", a);
    }
    function P(e, t, i) {
      var n = window.innerWidth,
        a = t[0].getBoundingClientRect().width,
        o = e.data("gutter") ? e.data("gutter") : 0,
        s = 1,
        r = e.data("lg-columns") ? e.data("lg-columns") : 1,
        l = e.data("md-columns") ? e.data("md-columns") : r,
        d = e.data("sm-columns") ? e.data("sm-columns") : l,
        c = e.data("xs-columns") ? e.data("xs-columns") : d,
        p =
          (a -
            ((s = 1200 <= n ? r : 992 <= n ? l : 641 <= n ? d : c) - 1) * o) /
          s,
        p = Math.floor(p),
        h = 1 < s ? 2 * p + o : p;
      t.children(".grid-sizer").css({ width: p + "px" });
      var u = p,
        f = u,
        m = e.data("grid-ratio");
      m &&
        ((c = m.split(":")),
        (e = parseFloat(c[0])),
        (c = parseFloat(c[1])),
        (u = (p * c) / e),
        (u = Math.floor(u)),
        (f = 1 < s ? 2 * u + o : u)),
        t.children(".grid-item").each(function () {
          "2" == g(this).data("width")
            ? g(this).css({ width: h + "px" })
            : g(this).css({ width: p + "px" }),
            m &&
              ("2" == g(this).data("height")
                ? g(this).css({ height: f + "px" })
                : g(this).css({ height: u + "px" }));
        }),
        i && t.isotope("layout", i);
    }
    function G(s, r, l) {
      var d = s.children(".tm-grid-pagination").find(".tm-grid-loader");
      d.css({ display: "inline-block" }),
        setTimeout(function () {
          var a = s.find(".tm-grid-query").first(),
            o = jQuery.parseJSON(a.val()),
            e = g.param(o);
          g.ajax({
            url: $insight.ajaxurl,
            type: "POST",
            data: e,
            dataType: "json",
            success: function (e) {
              e.max_num_pages && (o.max_num_pages = e.max_num_pages),
                e.count && (o.count = e.count),
                a.val(JSON.stringify(o));
              var t,
                i = e.template,
                n = g(i);
              1 == l && r.children(".grid-item").remove(),
                "masonry" == s.data("type")
                  ? (r
                      .isotope()
                      .append(n)
                      .isotope("appended", n)
                      .imagesLoaded()
                      .always(function () {
                        r.isotope("layout"),
                          s.data("match-height") &&
                            r.children(".grid-item").matchHeight(),
                          g(document).trigger("insightGridUpdate", [s, r, n]);
                      }),
                    D(s, r),
                    P(s, r))
                  : "swiper" == s.data("type")
                  ? ((e = s.find(".swiper-container")[0].swiper).appendSlide(n),
                    e.update())
                  : "justified" == s.data("type")
                  ? (r.append(i), r.justifiedGallery("norewind"))
                  : (r.append(n), D(s, r)),
                z(r, n),
                (i = n),
                1 == r.data("grid-has-gallery") &&
                  i.each(function () {
                    var e;
                    g(this).hasClass("format-gallery") &&
                      ((e = g(this).children(".post-gallery")),
                      insightInitSwiper(e));
                  }),
                (i = n),
                "1" == r.data("grid-has-popup-video") &&
                  i.each(function () {
                    var e = g(this).find(".tm-popup-video").first();
                    0 < e.length && y(e);
                  }),
                (t = s),
                o.found_posts <= o.paged * o.posts_per_page
                  ? (("loadmore_alt" === t.data("pagination")
                      ? g(t.data("pagination-custom-button-id"))
                      : t.children(".tm-grid-pagination")
                    ).hide(),
                    t.children(".tm-grid-messages").show(1),
                    setTimeout(function () {
                      t.children(".tm-grid-messages").remove();
                    }, 5e3))
                  : "loadmore_alt" === t.data("pagination")
                  ? g(t.data("pagination-custom-button-id")).show()
                  : (t.children(".tm-grid-pagination").show(),
                    t
                      .children(".tm-grid-pagination")
                      .find(".tm-grid-loadmore-btn")
                      .show()),
                s.hasClass("portfolio-overlay-parallax") && M(s, n),
                d.hide();
            },
          });
        }, 500);
    }
    function D(e, t) {
      var i, n;
      1 == e.children(".tm-filter-button-group").data("filter-counter") &&
        ((i = t.children(".grid-item")),
        (n = i.length),
        "ajax" === e.data("filter-type")
          ? e.find(".btn-filter").each(function () {
              var e = g(this).data("filter-count");
              0 < g(this).children(".filter-counter").length
                ? g(this).children(".filter-counter").text(e)
                : g(this).append(
                    '<span class="filter-counter">' + e + "</span>"
                  );
            })
          : e.find(".btn-filter").each(function () {
              var e = g(this).data("filter"),
                t = 0;
              "*" == e
                ? 0 < g(this).children(".filter-counter").length
                  ? g(this).children(".filter-counter").text(n)
                  : g(this).append(
                      '<span class="filter-counter">' + n + "</span>"
                    )
                : ((e = e.replace(".", "")),
                  i.each(function () {
                    g(this).hasClass(e) && t++;
                  }),
                  0 < g(this).children(".filter-counter").length
                    ? g(this).children(".filter-counter").text(t)
                    : g(this).append(
                        '<span class="filter-counter">' + t + "</span>"
                      ));
            }));
    }
    function z(e, t) {
      var i, n;
      d.hasClass("page-has-animation") &&
        e.hasClass("has-animation") &&
        ((i = []),
        (n = 250),
        t.waypoint(
          function () {
            var e = this.element || g(this);
            i.push(e),
              b(i, n, void 0),
              (n += 250),
              setTimeout(function () {
                n = v;
              }, v);
          },
          { offset: "90%", triggerOnce: !0 }
        ));
    }
    function M(e, t) {
      "tilt" === e.data("hover") &&
        t
          .find(".post-thumbnail")
          .tilt({
            perspective: 1440,
            scale: 1.06,
            easing: "cubic-bezier(.03,.98,.52,.99)",
          });
    }
    g(document)
      .ajaxStart(function () {
        w = !0;
      })
      .ajaxStop(function () {
        w = !1;
      }),
      g(window).on("resize", function () {
        d.addClass("window-resized"),
          (a = window.innerWidth),
          S(),
          O(),
          $(),
          I(),
          i(),
          k(),
          _();
      }),
      g(window).on("load", function () {
        !(function () {
          setTimeout(function () {
            d.addClass("loaded");
          }, 200);
          var e = g("#page-preloader");
          setTimeout(function () {
            e.remove();
          }, 2e3);
        })(),
          i(),
          window.dispatchEvent(new Event("resize"));
      }),
      g(document).ready(function () {
        var t, i, e, n, a, o, s;
        g(".tm-animation-queue").each(function () {
          var t = [],
            i = g(this).data("animation-delay")
              ? g(this).data("animation-delay")
              : v;
          g(this)
            .children(".item")
            .waypoint(
              function () {
                var e = this.element || g(this);
                setTimeout(function () {
                  i = v;
                }, v),
                  t.push(e),
                  b(t, i, void 0),
                  (i += v);
              },
              { offset: "90%", triggerOnce: !0 }
            );
        }),
          d.hasClass("page-has-animation") &&
            u.find(".tm-animation").waypoint(
              function () {
                var e = this.element || g(this);
                g(e).addClass("animate");
              },
              { offset: "100%" }
            ),
          S(),
          O(),
          $(),
          g(".background-marque").each(function () {
            var e = g(this),
              t = 0,
              i = 1;
            e.hasClass("to-left") && (i = -1),
              e.css("background-repeat", "repeat-x");
            var n = setInterval(function () {
              (t += i), e.css("background-position-x", t + "px");
            }, 10);
            1 == e.data("marque-pause-on-hover") &&
              g(this).hoverIntent(
                function () {
                  clearInterval(n);
                },
                function () {
                  n = setInterval(function () {
                    (t += i), e.css("background-position-x", t + "px");
                  }, 10);
                }
              );
          }),
          1 == $insight.scroll_top_enable &&
            ((t = g("#page-scroll-up")),
            (i = 0),
            r.on("scroll", function () {
              var e = g(this).scrollTop();
              !(i < e) && 200 < r.scrollTop()
                ? t.addClass("show")
                : t.removeClass("show"),
                (i = e);
            }),
            t.on("click", function (e) {
              g("html, body").animate({ scrollTop: 0 }, 600),
                e.preventDefault();
            })),
          g("p:empty").each(function () {
            this.attributes.length <= 0 && g(this).remove();
          }),
          I(),
          g(".tm-grid-wrapper").each(function () {
            var i = g(this),
              n = i.find(".tm-grid"),
              e = i.data("gutter") ? i.data("gutter") : 0;
            "1" == i.data("item-wrap") &&
              n
                .children()
                .not(".grid-sizer")
                .wrap('<div class="grid-item"></div>');
            var t,
              a,
              o,
              s,
              r,
              l,
              d = n.children(".grid-item");
            g(document).trigger("insightGridBeforeInit", [i, n]),
              "masonry" == i.data("type")
                ? ((t = { itemSelector: ".grid-item", percentPosition: !0 }),
                  $insight.isRTL && (t.originLeft = !1),
                  i.data("grid-fitrows")
                    ? (t.layoutMode = "fitRows")
                    : ((t.layoutMode = "packery"),
                      (t.packery = { columnWidth: ".grid-sizer" })),
                  "fitRows" === t.layoutMode
                    ? ((t.fitRows = {}), (t.fitRows.gutter = e))
                    : "packery" === t.layoutMode
                    ? (t.packery.gutter = e)
                    : (t.masonry.gutter = e),
                  n.hasClass("has-animation") && (t.transitionDuration = 0),
                  g(window).on("resize", function () {
                    P(i, n, t),
                      clearTimeout(c),
                      (c = setTimeout(function () {
                        P(i, n, t);
                      }, 300));
                  }),
                  P(i, n),
                  n
                    .imagesLoaded(function () {
                      n.isotope(t),
                        i.data("match-height") && d.matchHeight(),
                        g(document).trigger("insightGridInit", [i, n, t]);
                    })
                    .one("arrangeComplete", function () {
                      z(n, d), D(i, n), M(i, d);
                    }))
                : ("justified" == i.data("type") &&
                    ((a = i.data("justified-height")
                      ? i.data("justified-height")
                      : 300),
                    (o = i.data("justified-max-height")
                      ? i.data("justified-max-height")
                      : 0),
                    (e = {
                      rowHeight: a,
                      selector: ".grid-item",
                      imgSelector: ".post-thumbnail img",
                      margins: e,
                      border: 0,
                      captions: !1,
                      lastRow: i.data("justified-last-row")
                        ? i.data("justified-last-row")
                        : "justify",
                    }),
                    o && 0 < o && (e.maxRowHeight = o),
                    n.justifiedGallery(e)),
                  D(i, n),
                  z(n, d),
                  M(i, d)),
              (r = n),
              (s = i)
                .children(".tm-filter-button-group")
                .on("click", ".btn-filter", function () {
                  var e, t, i, n;
                  g(this).hasClass("current") ||
                    ("ajax" == s.data("filter-type")
                      ? ((i = g(this).attr("data-filter")),
                        (e = s.find(".tm-grid-query").first()),
                        ((t = jQuery.parseJSON(e.val())).extra_taxonomy =
                          "*" === i ? "" : g(this).attr("data-ajax-filter")),
                        e.val(JSON.stringify(t)),
                        g(document).trigger("insightGridInfinityLoad", s))
                      : ((i = g(this).attr("data-filter")),
                        "masonry" == s.data("type")
                          ? (r.children(".grid-item").each(function () {
                              g(this).removeClass("animate");
                            }),
                            r.isotope({ filter: i }),
                            r.hasClass("has-animation") &&
                              r
                                .children(".grid-item:not(.isotope-hidden)")
                                .each(function () {
                                  g(this).addClass("animate");
                                }))
                          : "swiper" == s.data("type")
                          ? ((i = i.replace(".", "")),
                            r.children(".grid-item").each(function () {
                              "*" == i || g(this).hasClass(i)
                                ? (g(this).show(), g(this).addClass("animate"))
                                : g(this).hide();
                            }),
                            (n = s
                              .children(".tm-swiper")
                              .children(
                                ".swiper-container"
                              )[0].swiper).update(),
                            n.slideTo(0))
                          : "justified" == s.data("type")
                          ? "*" == i
                            ? r.justifiedGallery({ filter: !1 })
                            : r.justifiedGallery({ filter: i })
                          : (r
                              .children(".grid-item")
                              .hide()
                              .removeClass("animate"),
                            (n =
                              "*" == i
                                ? r.children(".grid-item")
                                : r.children(i)).show(),
                            n.each(function (e, t) {
                              var i = g(this);
                              setTimeout(function () {
                                i.addClass("animate");
                              }, 200 * e);
                            }))),
                    g(this).siblings().removeClass("current"),
                    g(this).addClass("current"));
                }),
              "tilt" == i.data("hover") &&
                ((l = 1),
                n.on("mouseenter", ".grid-item", function () {
                  l++, g(this).css("z-index", l);
                })),
              "loadmore" == i.data("pagination")
                ? i
                    .children(".tm-grid-pagination")
                    .find(".tm-grid-loadmore-btn")
                    .on("click", function (e) {
                      var t;
                      e.preventDefault(),
                        w ||
                          (g(this).hide(),
                          (t = i.find(".tm-grid-query").first()),
                          (e = jQuery.parseJSON(t.val())).paged++,
                          t.val(JSON.stringify(e)),
                          G(i, n));
                    })
                : "loadmore_alt" == i.data("pagination")
                ? g(i.data("pagination-custom-button-id")).on(
                    "click",
                    function (e) {
                      var t;
                      e.preventDefault(),
                        w ||
                          (g(this).hide(),
                          (t = i.find(".tm-grid-query").first()),
                          (e = jQuery.parseJSON(t.val())).paged++,
                          t.val(JSON.stringify(e)),
                          G(i, n));
                    }
                  )
                : "infinite" == i.data("pagination") &&
                  g(".tm-grid-pagination", i).waypoint(
                    function (e) {
                      var t;
                      "down" !== e ||
                        w ||
                        ((t = i.find(".tm-grid-query").first()),
                        (e = jQuery.parseJSON(t.val())).paged++,
                        t.val(JSON.stringify(e)),
                        G(i, n));
                    },
                    { offset: "100%" }
                  );
          }),
          g(document).on("insightGridInfinityLoad", function (e, t) {
            var i = g(t),
              n = i.find(".tm-grid"),
              a = i.find(".tm-grid-query").first(),
              t = jQuery.parseJSON(a.val());
            (t.paged = 1), a.val(JSON.stringify(t)), G(i, n, !0);
          }),
          g(".tm-swiper").insightSwiper(),
          setTimeout(function () {
            var e, t, n, i, a;
            d.hasClass("one-page") &&
              ((e = g("#page-header").children("#page-header-inner")),
              (t = g("#page-navigation")
                .find(".menu__container")
                .first()
                .children(".menu-item")),
              (a = t.children('a[href*="#"]:not([href="#"])')),
              (n = !1),
              (i = 0),
              d.hasClass("admin-bar") && (i += 32),
              1 == f && "1" == e.data("sticky") && (i = -(i += m)),
              t.each(function () {
                g(this).hasClass("current-menu-item") &&
                  "" !== g(this).children("a")[0].hash &&
                  g(this).removeClass("current-menu-item");
              }),
              a.each(function () {
                var e = g(this),
                  t = this.hash,
                  i = e.parent();
                0 < g(t).length &&
                  (g(t).waypoint(
                    function (e) {
                      "down" === e && C(i, n);
                    },
                    { offset: "25%" }
                  ),
                  g(t).waypoint(
                    function (e) {
                      "up" === e && C(i, n);
                    },
                    { offset: "-25%" }
                  ));
              }),
              a.on("click", function () {
                var e = g(this),
                  t = this.hash,
                  e = e.parent("li");
                return (
                  e.siblings("li").removeClass("current-menu-item"),
                  e.addClass("current-menu-item"),
                  0 < g(t).length &&
                    g.smoothScroll({
                      offset: i,
                      scrollTarget: g(t),
                      speed: 600,
                      easing: "linear",
                      beforeScroll: function () {
                        n = !0;
                      },
                      afterScroll: function () {
                        n = !1;
                      },
                    }),
                  !1
                );
              }),
              (a = window.location.hash) &&
                0 < g(a).length &&
                g.smoothScroll({
                  offset: i,
                  scrollTarget: g(a),
                  speed: 600,
                  easing: "linear",
                  beforeScroll: function () {
                    n = !0;
                  },
                  afterScroll: function () {
                    n = !1;
                  },
                }));
          }, 100),
          d.on("click", ".vc_tta-tab, .vc_tta-panel", function () {
            g(window).trigger("resize");
          }),
          k(),
          _(),
          g(".smooth-scroll-link").on("click", function (e) {
            var t = (t = g(this).attr("href")) || g(this).data("href"),
              i = window.innerWidth;
            t.match(/^([.#])(.+)/) &&
              (e.preventDefault(),
              (e = 0),
              1 == $insight.header_sticky_enable &&
                0 < p.length &&
                "1" == h.data("sticky") &&
                ("left" !== h.data("header-position") ||
                  i < $insight.mobile_menu_breakpoint) &&
                (e += m),
              600 < i && (e += g("#wpadminbar").height()),
              g.smoothScroll({
                offset: -e,
                scrollTarget: g(t),
                speed: 600,
                easing: "linear",
              }));
          }),
          g(".tm-light-gallery").each(function () {
            var e, t, i, n, a, o;
            (e = g(this)),
              (t = "1" === $insight.light_gallery_download),
              (i = "1" === $insight.light_gallery_auto_play),
              (n = "1" === $insight.light_gallery_zoom),
              (a = "1" === $insight.light_gallery_full_screen),
              (o = "1" === $insight.light_gallery_share),
              (a = {
                selector: ".zoom",
                thumbnail: "1" === $insight.light_gallery_thumbnail,
                download: t,
                autoplay: i,
                zoom: n,
                share: o,
                fullScreen: a,
                hash: !1,
                animateThumb: !1,
                showThumbByDefault: !1,
                getCaptionFromTitleOrAlt: !1,
              }),
              e.lightGallery(a);
          }),
          g(".tm-popup-video").each(function () {
            y(g(this));
          }),
          g("#btn-open-popup-search").on("click", function (e) {
            e.preventDefault(),
              (function () {
                d.addClass("page-search-popup-opened"),
                  l.css({ overflow: "hidden" });
                var e = g("#page-search-popup").find(".search-field");
                setTimeout(function () {
                  e.focus();
                }, 500);
              })();
          }),
          g("#search-popup-close").on("click", function (e) {
            e.preventDefault(), j();
          }),
          g("#page-search-popup").on("click", function (e) {
            e.target === this && j();
          }),
          1 === p.data("centered-logo") &&
            ((n = p.find(".branding")),
            (a = g(
              '<li id="branding-logo-li" class="menu-item branding-logo-li"></li>'
            )).append(n.clone()),
            (e = p.find(".menu__container")),
            (n = e.children("li").length),
            (n = parseInt(Math.round(n / 2), 10)),
            --n,
            e.children("li:eq(" + n + ")").after(a)),
          g("#header-right-more").on("click", function () {
            d.toggleClass("header-more-tools-opened");
          }),
          g(document).on("click", function (e) {
            "page-header-inner" !== e.target.id &&
              (g(e.target).closest("#page-header-inner").length ||
                d.removeClass("header-more-tools-opened"));
          }),
          g("#page-open-off-sidebar").on("click", function (e) {
            e.preventDefault(), d.addClass("page-off-sidebar-opened");
          }),
          g("#page-close-off-sidebar").on("click", function (e) {
            e.preventDefault(), T();
          }),
          g("#page-off-sidebar").on("click", function (e) {
            e.target === this && T();
          }),
          (a = p.find("#page-navigation").find("ul").first()).hasClass("sm") &&
            (a.smartmenus({ subMenusSubOffsetX: 0, subMenusSubOffsetY: -17 }),
            a
              .on({
                "show.smapi": function (e, t) {
                  g(t).removeClass("hide-animation").addClass("show-animation");
                },
                "hide.smapi": function (e, t) {
                  g(t).removeClass("show-animation").addClass("hide-animation");
                },
              })
              .on(
                "animationend webkitAnimationEnd oanimationend MSAnimationEnd",
                "ul",
                function (e) {
                  g(this).removeClass("show-animation hide-animation"),
                    e.stopPropagation();
                }
              )),
          (function () {
            var t = g("#off-canvas-menu-primary"),
              e = t.children("li");
            g("#page-open-main-menu").on("click", function (e) {
              e.preventDefault(), d.addClass("page-off-canvas-menu-opened");
            }),
              g("#page-close-main-menu").on("click", function (e) {
                e.preventDefault(),
                  t.fadeOut(function () {
                    d.removeClass("page-off-canvas-menu-opened"),
                      t.fadeIn(),
                      t.find(".sub-menu").slideUp();
                  });
              });
            var i = 0.1;
            e.each(function () {
              g(this)[0].setAttribute(
                "style",
                "-webkit-transition-delay:" +
                  i +
                  "s; -moz-transition-delay:" +
                  i +
                  "s; -ms-transition-delay:" +
                  i +
                  "s; -o-transition-delay:" +
                  i +
                  "s; transition-delay:" +
                  i +
                  "s"
              ),
                (i += 0.1);
            }),
              t.on(
                "click",
                ".menu-item-has-children > a, .page_item_has_children > a",
                function (e) {
                  e.preventDefault(), e.stopPropagation();
                  var t = g(this).parent("li"),
                    e = t.siblings(".opened");
                  e.removeClass("opened"),
                    e.find(".opened").removeClass("opened"),
                    e.find(".sub-menu, .children").stop().slideUp(),
                    t.hasClass("opened")
                      ? (t.removeClass("opened"),
                        t.find(".opened").removeClass("opened"),
                        t.find(".sub-menu, .children").stop().slideUp())
                      : (t.addClass("opened"),
                        t.children(".sub-menu, .children").stop().slideDown());
                }
              );
          })(),
          (function () {
            g("#page-open-mobile-menu").on("click", function (e) {
              e.preventDefault(),
                e.stopPropagation(),
                d.addClass("page-mobile-menu-opened"),
                g(document).trigger("mobileMenuOpen");
            }),
              g("#page-close-mobile-menu").on("click", function (e) {
                e.preventDefault(), e.stopPropagation(), x();
              }),
              g("#page-mobile-main-menu").on("click", function (e) {
                e.target === this && x();
              }),
              g(document).on("mobileMenuOpen", function () {
                l.css({ overflow: "hidden" });
              }),
              g(document).on("mobileMenuClose", function () {
                l.css({ overflow: "" });
              });
            var e = g("#mobile-menu-primary");
            e.on("click", "a", function (e) {
              var t = g(this),
                i = g(this).parent("li"),
                n = t.attr("href");
              if (d.hasClass("one-page") && n && n.match(/^([.#])(.+)/)) {
                x();
                var a = 0;
                return (
                  d.hasClass("admin-bar") && (a += 32),
                  1 == f && "1" == h.data("sticky") && (a += m),
                  0 < a && (a = -a),
                  i.siblings("li").removeClass("current-menu-item"),
                  i.addClass("current-menu-item"),
                  setTimeout(function () {
                    g.smoothScroll({
                      offset: a,
                      scrollTarget: g(n),
                      speed: 600,
                      easing: "linear",
                    });
                  }, 300),
                  !1
                );
              }
            }),
              e.on("click", ".toggle-sub-menu", function (e) {
                var t = g(this).parents("li").first();
                e.preventDefault(), e.stopPropagation();
                e = t.siblings(".opened");
                e.removeClass("opened"),
                  e.find(".opened").removeClass("opened"),
                  e.find(".sub-menu").stop().slideUp(),
                  t.hasClass("opened")
                    ? (t.removeClass("opened"),
                      t.find(".opened").removeClass("opened"),
                      t.find(".sub-menu").stop().slideUp())
                    : (t.addClass("opened"),
                      t.children(".sub-menu").stop().slideDown());
              });
          })(),
          1 == $insight.noticeCookieEnable &&
            "yes" != $insight.noticeCookieConfirm &&
            "" != $insight.noticeCookieMessages &&
            (g.growl({
              location: "br",
              fixed: !0,
              duration: 36e5,
              size: "large",
              title: "",
              message: $insight.noticeCookieMessages,
            }),
            g("#tm-button-cookie-notice-ok").on("click", function () {
              g(this)
                .parents(".growl-message")
                .first()
                .siblings(".growl-close")
                .trigger("click");
              var e = g.param((e = { action: "notice_cookie_confirm" }));
              g.ajax({
                url: $insight.ajaxurl,
                type: "POST",
                data: e,
                dataType: "json",
                success: function (e) {},
                error: function (e) {
                  console.log(e);
                },
              });
            })),
          (function () {
            if ("1" != $insight.isShowNewsletterPopup) return;
            g(window).on("load", function () {
              d.addClass("newsletter-popup-opened");
            }),
              g("#newsletter-popup-close").on("click", function () {
                g(document).trigger("newsletterPopupClose");
              }),
              g("#newsletter-popup").on("click", function (e) {
                e.target === this &&
                  g(document).trigger("newsletterPopupClose");
              }),
              g(document).on("newsletterPopupClose", function () {
                d.removeClass("newsletter-popup-opened");
                var e = g.param((e = { action: "newsletter_popup_confirm" }));
                g.ajax({
                  url: $insight.ajaxurl,
                  type: "POST",
                  data: e,
                  dataType: "json",
                  success: function (e) {},
                  error: function (e) {
                    console.log(e);
                  },
                });
              });
          })(),
          (o = g("#entry-post-share")),
          (s = o.find(".share-icon")).on("click", function () {
            o.toggleClass("opened");
          }),
          g(document).on("click", function (e) {
            0 == g(e.target).closest(s).length && o.removeClass("opened");
          });
      }),
      "undefined" != typeof Isotope &&
        ((e = Isotope.Item.prototype.reveal),
        (t = Isotope.Item.prototype.hide),
        (Isotope.Item.prototype.reveal = function () {
          e.apply(this, arguments),
            g(this.element).removeClass("isotope-hidden");
        }),
        (Isotope.Item.prototype.hide = function () {
          t.apply(this, arguments), g(this.element).addClass("isotope-hidden");
        }));
  })(jQuery);
